<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dinner Options</title>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
  </head>
  <body>
    <section class="dinnerHeader">
      <h1>Options For Dinner</h1>
      <div class="food-options">
        <form class="form_dinner">
          <h2>Starters</h2>
          <ul>
            <li>
              <input type="checkbox" id="starter1" value="Starter 1">
              <label for="starter1">Starter 1</label>
            </li>
            <li>
              <input type="checkbox" id="starter2" value="Starter 2">
              <label for="starter2">Starter 2</label>
            </li>
            <li>
              <input type="checkbox" id="starter3" value="Starter 3">
              <label for="starter3">Starter 3</label>
            </li>
          </ul>
        </div>
        <div class="food-options">
          <h2>Main Course</h2>
          <ul>
            <li>
              <input class="name" type="checkbox" id="main1" value="Main Course 1">
              <label for="main1">Main Course 1</label>
            </li>
            <li>
              <input class="name" type="checkbox" id="main2" value="Main Course 2">
              <label for="main2">Main Course 2</label>
            </li>
            <li>
              <input class="name" type="checkbox" id="main3" value="Main Course 3">
              <label for="main3">Main Course 3</label>
            </li>
          </ul>
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input class="form-control" type="email" id="email" required>
        </div>
        <button id="submit">Submit</button>
      </form>
    </section>
    <script>
      document.querySelector('#submit').addEventListener('click', function(e) {
        e.preventDefault();
        
        const form = document.querySelector('.form_dinner');
        const checkboxes = form.querySelectorAll("input[type='checkbox']:checked");
        const email = form.querySelector("#email");
        
        if (!email.value) {
          alert("Email is required");
          return;
        }
        
        let body = '';
        for (let checkbox of checkboxes) {
          body += checkbox.value + '\n';
        }
        
        Email.send({
          To: 'businessmanneel@gmail.com',
          From: email.value,
          Subject: "Options for Dinner",
          Body: body
        }).then(
          message =>
          {
            console.log("Email sent successfully");
            alert("Your order has been successfully received!");
          },
          error => {
            console.error("Email sending failed:", error);
            alert("There was an error processing your request. Please try again later.");
          }
        );
      });

      try {
    const email = form.querySelector("#email");
  } catch (error) {
    console.error("Error getting email input:", error);
    alert("There was an error processing your request. Please try again later.");
  }
</script>
  </body>
</html>


